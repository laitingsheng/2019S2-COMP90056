\documentclass[a4paper]{article}
\usepackage[margin=0.5in]{geometry}
\usepackage{hyperref}
\usepackage{amsmath}
\usepackage{amssymb}

\title{\textbf{COMP90056 Assignment A}}
\author{Tingsheng (Tinson) Lai (731319)}
\date{\today}

\begin{document}
    \maketitle
    \section{Part 1}
        For two elements, $x,y \in U$, false positive, one of the consequences caused by collisions, may occurs if and only if $x \in S$ and $y \in U \backslash S$. It means that after m updates from set $S$, the probability that choosing an element, $y \notin S$, from the universe which may lead to false positive is
        $$Pr \left[ y \in U \backslash S \right] = \frac{n - m}{n}$$
        Based on the universality property of 2-universal hash family, we know that
        $$\forall x, y \in U \ x \neq y \Rightarrow Pr \left[ h(x) = h(y) \right] \leq \frac{1}{r}$$
        Continue using $y$ metioned before and let $c = h(y)$, by the property above, we can get that
        $$\forall x \in S \  Pr \left[ h(x) = c \right] \leq \frac{1}{r}$$
        Thus, after $m$ updates, the probability of collision raises to
        $$Pr \left[ \lor_{x \in S} \left( h(x) = c \right) \right] = \sum_{x \in S} Pr \left[ h(x) = c \right] \leq \frac{m}{r}$$
        In another word
        $$Pr \left[ \lor_{x \in S} \left( h(x) = h(y) \right) | y \in U \backslash S \right] \leq \frac{m}{r}$$
        Thus, the probability of false positive is
        $$Pr \left[ \lor_{x \in S} \left( h(x) = h(y) \right) \land y \in U \backslash S \right] = Pr \left[ \lor_{x \in S} \left( h(x) = h(y) \right) | y \in U \backslash S \right] \cdot Pr \left[ y \in U \backslash S \right] \leq \frac{(n - m)m}{r n}$$
        Introducing the parameter $\epsilon$, we get
        \begin{equation*}
            \begin{split}
                \frac{(n - m)m}{r n} & \leq \epsilon \\
                r & \geq \frac{(n - m)m}{n \epsilon}
            \end{split}
        \end{equation*}
\end{document}
